# Log Request Service REST API Documentation
Log Request Service API

An API for persisting log requests, providing some operations: create, list, search, update.

# Table of contents

- [Log Request Service REST API Documentation](#log-request-service-rest-api-documentation)
- [Table of contents](#table-of-contents)
  - [Introduction](#introduction)
  - [Technologies](#technologies)
  - [Execution](#execution)
  - [Web Interfaces](#web-interfaces)
  - [API Documentation - Version: 1.0](#api-documentation---version-10)
    - [/v1/log-requests](#v1log-requests)
    - [/v1/log-requests/search](#v1log-requestssearch)
    - [/v1/log-requests/{id}](#v1log-requestsid)
    - [Models](#models)

## Introduction
An API for persisting log requests, providing some operations: create, list, search, update.


## Technologies
    Java 8
    Spring (Boot, Web, Data JPA, Cloud Netflix Hystrix, Cloud Netflix Eureka)
    H2 In-Memory Database
    JUnit Jupiter
	Swagger / Spring-fox
	Maven
	

## Execution
    $ spring-boot:run


## Web Interfaces
After start the application, you can access:

	Swagger interface (Gateway) - localhost:5555/log-request-service/swagger-ui/index.html
	Swagger interface (direct access) - localhost:8081/swagger-ui/index.html


## API Documentation - Version: 1.0
Documentation generated by swagger-markdown

### /v1/log-requests

#### GET
##### Summary

List all logs

##### Parameters

| Name | Located in | Description | Required | Schema |
| ---- | ---------- | ----------- | -------- | ---- |
| page | query |  | No | integer |
| size | query |  | No | integer |
| sort | query |  | No | string |

##### Responses

| Code | Description | Schema |
| ---- | ----------- | ------ |
| 200 | OK | [Page«LogRequest»](#page«logrequest») |
| 500 | Internal Server Error |  |

#### POST
##### Summary

Create a log request

##### Parameters

| Name | Located in | Description | Required | Schema |
| ---- | ---------- | ----------- | -------- | ---- |
| form | body | form | Yes | [LogRequestForm](#logrequestform) |

##### Responses

| Code | Description |
| ---- | ----------- |
| 201 | Created |
| 400 | Bad Request |
| 500 | Internal Server Error |

### /v1/log-requests/search

#### GET
##### Summary

Search logs by filters

##### Parameters

| Name | Located in | Description | Required | Schema |
| ---- | ---------- | ----------- | -------- | ---- |
| endDate | query | endDate | No | string |
| ip | query | ip | No | string |
| page | query |  | No | integer |
| request | query | request | No | string |
| size | query |  | No | integer |
| sort | query |  | No | string |
| startDate | query | startDate | No | string |
| status | query | status | No | string |
| userAgent | query | userAgent | No | string |

##### Responses

| Code | Description | Schema |
| ---- | ----------- | ------ |
| 200 | OK | [Page«LogRequest»](#page«logrequest») |
| 400 | Bad Request |  |
| 500 | Internal Server Error |  |

### /v1/log-requests/{id}

#### GET
##### Summary

Find a log request by id

##### Parameters

| Name | Located in | Description | Required | Schema |
| ---- | ---------- | ----------- | -------- | ---- |
| id | path | id | Yes | long |

##### Responses

| Code | Description | Schema |
| ---- | ----------- | ------ |
| 200 | OK | [LogRequest](#logrequest) |
| 400 | Bad Request |  |
| 404 | Not Found |  |
| 500 | Internal Server Error |  |

#### PUT
##### Summary

Update a log request

##### Parameters

| Name | Located in | Description | Required | Schema |
| ---- | ---------- | ----------- | -------- | ---- |
| form | body | form | Yes | [LogRequestForm](#logrequestform) |
| id | path | id | Yes | long |

##### Responses

| Code | Description | Schema |
| ---- | ----------- | ------ |
| 200 | Successfully Updated | [LogRequest](#logrequest) |
| 400 | Bad Request |  |
| 404 | Not Found |  |
| 500 | Internal Server Error |  |

### Models

#### ApiError

| Name | Type | Description | Required |
| ---- | ---- | ----------- | -------- |
| debugMessage | string |  | No |
| errors | [ [ApiFieldError](#apifielderror) ] |  | No |
| message | string |  | No |
| status | string | _Enum:_ `"ACCEPTED"`, `"ALREADY_REPORTED"`, `"BAD_GATEWAY"`, `"BAD_REQUEST"`, `"BANDWIDTH_LIMIT_EXCEEDED"`, `"CHECKPOINT"`, `"CONFLICT"`, `"CONTINUE"`, `"CREATED"`, `"DESTINATION_LOCKED"`, `"EXPECTATION_FAILED"`, `"FAILED_DEPENDENCY"`, `"FORBIDDEN"`, `"FOUND"`, `"GATEWAY_TIMEOUT"`, `"GONE"`, `"HTTP_VERSION_NOT_SUPPORTED"`, `"IM_USED"`, `"INSUFFICIENT_SPACE_ON_RESOURCE"`, `"INSUFFICIENT_STORAGE"`, `"INTERNAL_SERVER_ERROR"`, `"I_AM_A_TEAPOT"`, `"LENGTH_REQUIRED"`, `"LOCKED"`, `"LOOP_DETECTED"`, `"METHOD_FAILURE"`, `"METHOD_NOT_ALLOWED"`, `"MOVED_PERMANENTLY"`, `"MOVED_TEMPORARILY"`, `"MULTIPLE_CHOICES"`, `"MULTI_STATUS"`, `"NETWORK_AUTHENTICATION_REQUIRED"`, `"NON_AUTHORITATIVE_INFORMATION"`, `"NOT_ACCEPTABLE"`, `"NOT_EXTENDED"`, `"NOT_FOUND"`, `"NOT_IMPLEMENTED"`, `"NOT_MODIFIED"`, `"NO_CONTENT"`, `"OK"`, `"PARTIAL_CONTENT"`, `"PAYLOAD_TOO_LARGE"`, `"PAYMENT_REQUIRED"`, `"PERMANENT_REDIRECT"`, `"PRECONDITION_FAILED"`, `"PRECONDITION_REQUIRED"`, `"PROCESSING"`, `"PROXY_AUTHENTICATION_REQUIRED"`, `"REQUESTED_RANGE_NOT_SATISFIABLE"`, `"REQUEST_ENTITY_TOO_LARGE"`, `"REQUEST_HEADER_FIELDS_TOO_LARGE"`, `"REQUEST_TIMEOUT"`, `"REQUEST_URI_TOO_LONG"`, `"RESET_CONTENT"`, `"SEE_OTHER"`, `"SERVICE_UNAVAILABLE"`, `"SWITCHING_PROTOCOLS"`, `"TEMPORARY_REDIRECT"`, `"TOO_EARLY"`, `"TOO_MANY_REQUESTS"`, `"UNAUTHORIZED"`, `"UNAVAILABLE_FOR_LEGAL_REASONS"`, `"UNPROCESSABLE_ENTITY"`, `"UNSUPPORTED_MEDIA_TYPE"`, `"UPGRADE_REQUIRED"`, `"URI_TOO_LONG"`, `"USE_PROXY"`, `"VARIANT_ALSO_NEGOTIATES"` | No |
| timestamp | string | _Example:_ `"dd-MM-yyyy hh:mm:ss"` | No |

#### ApiFieldError

| Name | Type | Description | Required |
| ---- | ---- | ----------- | -------- |
| field | string |  | No |
| message | string |  | No |

#### LogRequest

| Name | Type | Description | Required |
| ---- | ---- | ----------- | -------- |
| date | string | _Example:_ `"yyyy-MM-dd HH:mm:ss.SSS"` | Yes |
| id | long |  | No |
| ip | string |  | No |
| request | string |  | No |
| status | integer |  | No |
| userAgent | string |  | No |

#### LogRequestForm

| Name | Type | Description | Required |
| ---- | ---- | ----------- | -------- |
| date | string | _Example:_ `"yyyy-MM-dd HH:mm:ss.SSS"` | Yes |
| ip | string |  | Yes |
| request | string |  | Yes |
| status | integer |  | Yes |
| userAgent | string |  | Yes |

#### Pageable

| Name | Type | Description | Required |
| ---- | ---- | ----------- | -------- |
| page | integer |  | No |
| size | integer |  | No |
| sort | string |  | No |

#### Page«LogRequest»

| Name | Type | Description | Required |
| ---- | ---- | ----------- | -------- |
| content | [ [LogRequest](#logrequest) ] |  | No |
| empty | boolean |  | No |
| first | boolean |  | No |
| last | boolean |  | No |
| number | integer |  | No |
| numberOfElements | integer |  | No |
| pageable | [Pageable](#pageable) |  | No |
| size | integer |  | No |
| sort | [Sort](#sort) |  | No |
| totalElements | long |  | No |
| totalPages | integer |  | No |

#### Sort

| Name | Type | Description | Required |
| ---- | ---- | ----------- | -------- |
| empty | boolean |  | No |
| sorted | boolean |  | No |
| unsorted | boolean |  | No |
