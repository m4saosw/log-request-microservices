# Log Request Import Service REST API Documentation
Log Request Import Service API

An API for importing of log requests, providing some operations: import, get status.

# Table of contents

- [Log Request Import Service REST API Documentation](#log-request-import-service-rest-api-documentation)
  - [Introduction](#introduction)
  - [Technologies](#technologies)
  - [Execution](#execution)
  - [Web Interfaces](#web-interfaces)
  - [API Documentation - Version: 1.0](#api-documentation---version-10)
  

## Introduction
An API for importing of log requests, providing some operations: import, get status.


## Technologies
    Java 8
    Spring (Boot, Web, Data JPA, Batch, Cloud Netflix Hystrix)
    H2 In-Memory Database
    JUnit Jupiter
	Swagger / Spring-fox
	Maven
	

## Execution
    $ spring-boot:run


## Web Interfaces
After start the application, you can access:

Swagger interface - localhost:8080/swagger-ui/index.html


## API Documentation - Version: 1.0
Documentation generated by swagger-markdown

### /v1/import-from-file

#### POST
##### Summary

Import many log requests from a given file by asynchronous processing. The processing status can be get by status endpoint in the response payload.

##### Description

Specifications required for file: csv format; delimiter \|; fields: Date \| IP \| Request \| Status \| User Agent; date format: yyyy-MM-dd HH:mm:ss.SSS

##### Parameters

| Name | Located in | Description | Required | Schema |
| ---- | ---------- | ----------- | -------- | ---- |
| file | formData |  | No | file |

##### Responses

| Code | Description | Schema |
| ---- | ----------- | ------ |
| 202 | Accepted | [JobExecutionResource](#jobexecutionresource) |
| 400 | Bad Request |  |
| 500 | Internal Server Error |  |

### /v1/import-from-file/status/{jobId}

#### GET
##### Summary

Get status for a job execution by job id

##### Parameters

| Name | Located in | Description | Required | Schema |
| ---- | ---------- | ----------- | -------- | ---- |
| jobId | path | jobId | Yes | long |

##### Responses

| Code | Description | Schema |
| ---- | ----------- | ------ |
| 200 | OK | [JobExecutionOutput](#jobexecutionoutput) |
| 404 | Not Found |  |
| 500 | Internal Server Error |  |

### Models

#### ApiError

| Name | Type | Description | Required |
| ---- | ---- | ----------- | -------- |
| debugMessage | string |  | No |
| errors | [ [ApiFieldError](#apifielderror) ] |  | No |
| message | string |  | No |
| status | string | _Enum:_ `"ACCEPTED"`, `"ALREADY_REPORTED"`, `"BAD_GATEWAY"`, `"BAD_REQUEST"`, `"BANDWIDTH_LIMIT_EXCEEDED"`, `"CHECKPOINT"`, `"CONFLICT"`, `"CONTINUE"`, `"CREATED"`, `"DESTINATION_LOCKED"`, `"EXPECTATION_FAILED"`, `"FAILED_DEPENDENCY"`, `"FORBIDDEN"`, `"FOUND"`, `"GATEWAY_TIMEOUT"`, `"GONE"`, `"HTTP_VERSION_NOT_SUPPORTED"`, `"IM_USED"`, `"INSUFFICIENT_SPACE_ON_RESOURCE"`, `"INSUFFICIENT_STORAGE"`, `"INTERNAL_SERVER_ERROR"`, `"I_AM_A_TEAPOT"`, `"LENGTH_REQUIRED"`, `"LOCKED"`, `"LOOP_DETECTED"`, `"METHOD_FAILURE"`, `"METHOD_NOT_ALLOWED"`, `"MOVED_PERMANENTLY"`, `"MOVED_TEMPORARILY"`, `"MULTIPLE_CHOICES"`, `"MULTI_STATUS"`, `"NETWORK_AUTHENTICATION_REQUIRED"`, `"NON_AUTHORITATIVE_INFORMATION"`, `"NOT_ACCEPTABLE"`, `"NOT_EXTENDED"`, `"NOT_FOUND"`, `"NOT_IMPLEMENTED"`, `"NOT_MODIFIED"`, `"NO_CONTENT"`, `"OK"`, `"PARTIAL_CONTENT"`, `"PAYLOAD_TOO_LARGE"`, `"PAYMENT_REQUIRED"`, `"PERMANENT_REDIRECT"`, `"PRECONDITION_FAILED"`, `"PRECONDITION_REQUIRED"`, `"PROCESSING"`, `"PROXY_AUTHENTICATION_REQUIRED"`, `"REQUESTED_RANGE_NOT_SATISFIABLE"`, `"REQUEST_ENTITY_TOO_LARGE"`, `"REQUEST_HEADER_FIELDS_TOO_LARGE"`, `"REQUEST_TIMEOUT"`, `"REQUEST_URI_TOO_LONG"`, `"RESET_CONTENT"`, `"SEE_OTHER"`, `"SERVICE_UNAVAILABLE"`, `"SWITCHING_PROTOCOLS"`, `"TEMPORARY_REDIRECT"`, `"TOO_EARLY"`, `"TOO_MANY_REQUESTS"`, `"UNAUTHORIZED"`, `"UNAVAILABLE_FOR_LEGAL_REASONS"`, `"UNPROCESSABLE_ENTITY"`, `"UNSUPPORTED_MEDIA_TYPE"`, `"UPGRADE_REQUIRED"`, `"URI_TOO_LONG"`, `"USE_PROXY"`, `"VARIANT_ALSO_NEGOTIATES"` | No |
| timestamp | string | _Example:_ `"dd-MM-yyyy hh:mm:ss"` | No |

#### ApiFieldError

| Name | Type | Description | Required |
| ---- | ---- | ----------- | -------- |
| field | string |  | No |
| message | string |  | No |

#### JobExecutionOutput

| Name | Type | Description | Required |
| ---- | ---- | ----------- | -------- |
| endTime | string | _Example:_ `"yyyy-MM-dd HH:mm:ss.SSS"` | No |
| exceptions | [ string ] |  | No |
| exitCode | string |  | No |
| exitDescription | string |  | No |
| jobId | long |  | No |
| startTime | string | _Example:_ `"yyyy-MM-dd HH:mm:ss.SSS"` | No |
| status | string | _Enum:_ `"ABANDONED"`, `"COMPLETED"`, `"FAILED"`, `"STARTED"`, `"STARTING"`, `"STOPPED"`, `"STOPPING"`, `"UNKNOWN"` | No |

#### JobExecutionResource

| Name | Type | Description | Required |
| ---- | ---- | ----------- | -------- |
| jobExecution | [JobExecutionOutput](#jobexecutionoutput) |  | No |
| links | [Links](#links) |  | No |

#### Links

| Name | Type | Description | Required |
| ---- | ---- | ----------- | -------- |
| empty | boolean |  | No |
